{% extends 'base.html' %}

{% block conteudo %}

    {% if current_user.is_authenticated %}

    <div class="card shadow p-5 bg-dark text-white"> 
        <h1><b>Magias</b></h1>
        <p>Cadastrar uma nova magia</p>

        <div class="container">
            <form method="POST" action="/magia/criarmagia">
                <div class="row">
                    <div class="col-md-6 form-group">
                        <label for="nome">Nome da Magia</label>
                        <input type="text" id="nome" name="nome" class="form-control bg-dark text-white border-light" required>
                    </div>
                    <div class="col-md-6 form-group">
                        <label for="spellname">Spell Name</label>
                        <input type="text" id="spellname" name="spellname" class="form-control bg-dark text-white border-light" required>
                    </div>
                </div>    

                <hr>

                <!-- CLASSES -->
                <div class="row mb-3">
                    <div class="col">
                        <h3 class="text-white mb-3">Classes</h3> 
                    </div>

                    <div class="d-flex flex-wrap">
                        {% for classe in ['Mago', 'Clérigo', 'Feiticeiro', 'Bardo', 'Druida', 'Bruxo', 'Paladino', 'Patrulheiro'] %}
                            <div class="form-check me-3 mb-2">
                                <input type="checkbox" class="form-check-input" id="{{ classe }}" name="{{ classe }}">
                                <label class="form-check-label" for="{{ classe }}">{{ classe }}</label>
                            </div>
                        {% endfor %}
                    </div>    
                </div>

                <hr>

                <!-- Nível e Escola -->
                <div class="row">
                    <div class="col-md-2 form-group">
                        <label for="nivel">Nível</label>                    
                        <select id="nivel" name="nivel" class="form-control bg-dark text-white border-light">
                            <option value="0">Truque</option>
                            {% for i in range(1, 10) %}
                                <option value="{{ i }}">{{ i }}º</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-md-2 form-group">
                        <label for="escola">Escola de Magia</label>
                        <select id="escola" name="escola" class="form-control bg-dark text-white border-light">
                            <option value="" disabled selected>Escola</option>
                            {% for nome_escola, numero in escolas_numero.items() %}
                                <option value="{{ numero }}">{{ nome_escola }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-md-2 form-group">
                        <label for="distancia">Distância</label>
                        <input type="text" id="distancia" name="distancia" class="form-control bg-dark text-white border-light" required>
                    </div>

                    <div class="col-md-3 form-group">
                        <label for="casting">Tipo de Cast ou Tempo</label>
                        <input type="text" id="casting" name="casting" class="form-control bg-dark text-white border-light" required>
                    </div>

                    <div class="col-md-3 form-group">
                        <label for="duracao">Duração</label>
                        <input type="text" id="duracao" name="duracao" class="form-control bg-dark text-white border-light" required>
                    </div>
                </div>

                <!-- Componentes e Descrições -->
                <div class="row">
                    <div class="col-md-12 form-group">
                        <label for="componentes">Componentes (separados por vírgula)</label>
                        <input type="text" id="componentes" name="componentes" class="form-control bg-dark text-white border-light">
                    </div>

                    <div class="col-md-12 form-group">
                        <label for="texto">Descrição da magia</label>
                        <textarea id="texto" name="texto" class="form-control bg-dark text-white border-light" rows="4"></textarea>
                    </div>

                    <div class="col-md-12 form-group">
                        <label for="spelldescription">Descrição em inglês</label>
                        <textarea id="spelldescription" name="spelldescription" class="form-control bg-dark text-white border-light" rows="4"></textarea>
                    </div>

                    <div class="col-md-12 form-group">
                        <label for="upgrade">Upgrade</label>
                        <textarea id="upgrade" name="upgrade" class="form-control bg-dark text-white border-light" rows="2"></textarea>
                    </div>

                    <div class="col-md-12 form-group">
                        <label for="livro">Livro</label>
                        <input type="text" id="livro" name="livro" class="form-control bg-dark text-white border-light" required>
                    </div>
                </div>

                <br>   

                <!-- Botão de submissão -->
                <div class="row">
                    <div class="col-md-12 form-group">
                        <button type="submit" class="btn btn-primary">Cadastrar Magia</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    {% endif %}

{% endblock %}
